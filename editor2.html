<!DOCTYPE html>
<html>
<head>
<title>Simple Visual HTML Editor (addEventListener)</title>
<style>
#editor {
  width: 80%;
  height: 400px;
  border: 1px solid #ccc;
  margin: 20px auto;
  padding: 10px;
  font-family: monospace;
  overflow: auto;
}

#controls {
  width: 80%;
  margin: 0 auto 10px auto;
  text-align: center;
}

button {
  padding: 5px 10px;
  margin: 5px;
}
</style>
</head>
<body>

<div id="controls">
  <button data-command="bold">Bold</button>
  <button data-command="italic">Italic</button>
  <button data-command="underline">Underline</button>
  <button data-command="justifyLeft">Left Align</button>
  <button data-command="justifyCenter">Center Align</button>
  <button data-command="justifyRight">Right Align</button>
  <button data-command="insertUnorderedList">UL</button>
  <button data-command="insertOrderedList">OL</button>
  <button id="linkButton">Link</button>
  <button id="htmlButton">Show HTML</button>
  <button id="clearButton">Clear</button>
</div>

<div id="editor" contenteditable="true">
  <p>Start typing here...</p>
</div>

<textarea id="htmlOutput" style="display:none; width: 80%; margin: 10px auto; height: 200px;"></textarea>

<script>
const editor = document.getElementById("editor");
const htmlOutput = document.getElementById("htmlOutput");

function formatDoc(cmd, value = null) {
  document.execCommand(cmd, false, value);
}

document.getElementById("controls").addEventListener("click", (event) => {
  if (event.target.tagName === "BUTTON" && event.target.dataset.command) {
    formatDoc(event.target.dataset.command);
  }
});

document.getElementById("linkButton").addEventListener("click", () => {
  const url = prompt("Enter the URL:");
  if (url) {
    formatDoc("createLink", url);
  }
});

document.getElementById("htmlButton").addEventListener("click", () => {
  htmlOutput.value = editor.innerHTML;
  htmlOutput.style.display = "block";
});

document.getElementById("clearButton").addEventListener("click", () => {
  editor.innerHTML = "";
  htmlOutput.style.display = "none";
});

</script>

</body>
</html>